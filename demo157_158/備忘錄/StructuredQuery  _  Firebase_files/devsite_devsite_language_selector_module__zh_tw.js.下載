(function(_ds){var window=this;var RQ=async function(a){const b=a.h.get("django_language");b&&await a.j.set("language_preference",b)},SQ=async function(a){if(!a.h.get("django_language")){const b=await _ds.y();a.h.set("django_language",b.getLocale()||"en",{Bb:15552E3,path:"/"})}},UQ=function(a){_ds.J(a.eventHandler);const b=a.querySelector(".devsite-language-selector-select");b&&a.eventHandler.listen(b,"change",c=>{TQ(a,c)})},TQ=async function(a,b){await _ds.y();a.h.remove("django_language");b=b.target;a.h.set("django_language",
b.value,{Bb:15552E3,path:"/"});const c=document.documentElement.getAttribute("lang");c&&await VQ(a,c,b.value);await RQ(a);a=new URL(_ds.Mh().location.toString());a.searchParams.delete("hl");a=_ds.Sc(a.toString());_ds.Mh().location.assign(_ds.Ec(a))},VQ=async function(a,b,c){a.dispatchEvent(new CustomEvent("devsite-analytics-observation",{detail:{category:"Site-Wide Custom Events",label:"Language Selector",action:`${b} to ${c}`},bubbles:!0}));b={eventData:JSON.stringify({name:"change",type:"languageSelector",
metadata:{"selected-language":`${c}`,"original-language":`${b}`}})};a.dispatchEvent(new CustomEvent("devsite-analytics-observation-cloudtrack",{detail:b,bubbles:!0}))},WQ=class extends _ds.D{constructor(){super(...arguments);this.j=_ds.sl();this.eventHandler=new _ds.I;this.h=new _ds.Mm(document)}async connectedCallback(){try{await SQ(this),await RQ(this)}catch(a){}UQ(this)}disconnectedCallback(){_ds.J(this.eventHandler)}Ua(a){a&&(_ds.Ug(this,this.querySelector(".devsite-language-selector-menu"),a.querySelector(".devsite-language-selector-menu")),
UQ(this))}};WQ.prototype.updateContent=WQ.prototype.Ua;WQ.prototype.disconnectedCallback=WQ.prototype.disconnectedCallback;WQ.prototype.connectedCallback=WQ.prototype.connectedCallback;try{window.customElements.define("devsite-language-selector",WQ)}catch(a){console.warn("devsite.app.customElement.DevsiteLanguageSelector",a)};})(_ds_www);
